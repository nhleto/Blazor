@page "/counter"
@using Blazor.Model
@using Newtonsoft.Json

<h1>Status</h1>

<button class="btn btn-primary" @onclick="FetchData">Click me </button>
<p>@_status?.Status</p>

@code {
    private const string StartupUrl = "https://api.spacetraders.io/game/status";
    static readonly HttpClient Client = new HttpClient();
    private Response _status;

    private async void FetchData()
    {
        var response = await Client.GetStringAsync(StartupUrl);
        _status = JsonConvert.DeserializeObject<Response>(response);
    }
}
